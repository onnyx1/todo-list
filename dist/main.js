(()=>{"use strict";const e={events:{},subscribe:function(e,t){console.log(`PUBSUB: someone just subscribed to the event "${e}"`),this.events[e]=this.events[e]||[],this.events[e].push(t)},unsubscribe:function(e,t){console.log(`PUBSUB: someone just UNsubscribed from ${e}`),this.events[e]&&(this.events[e]=this.events[e].filter((e=>e!==t)))},publish:function(e,t){console.log(`PUBSUB: someone just published the event "${e}" with contents "${t}"`),this.events[e]&&this.events[e].forEach((e=>{e(t)}))}},t={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let o;const i=new Uint8Array(16);function n(){if(!o&&(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));const r=function(e,o,i){if(t.randomUUID&&!o&&!e)return t.randomUUID();const r=(e=e||{}).random||(e.rng||n)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,o){i=i||0;for(let e=0;e<16;++e)o[i+e]=r[e];return o}return function(e,t=0){return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}(r)};class d{#e;#t;#o;#i;constructor(e,t){this.#e=r(),this.#t=e,this.#o=t,this.#i=new Map}findTodo(e){return this.#i.get(e)}addTodo(e,t){this.#i.set(e,t)}getID(){return this.#e}getProjectName(){return this.#t}getProjectColor(){return this.#o}getProjectTodoItems(){return this.#i}}e.subscribe("Create Project",(function(t){const o=t.projectName,i=t.projectColor,n=new d(o,i);e.publish("Add Project to Project Manager",n),e.publish("Create Project DOM",n)}));class a{#n;#s;#r;#d;#a;#e;constructor(e,t,o,i,n){this.#n=e,this.#s=t,this.#r=o,this.#d=i,this.#a=n,this.#e=r()}getTaskName(){return this.#n}setTaskName(e){this.#n=e}getDescription(){return this.#s}setDescription(e){this.#s=e}getDueDate(){return this.#r}setDueDate(e){this.#r=e}getProjectLocation(){return this.#d}setProjectLocation(e){this.#d=e}getPriority(){return this.#a}setPriority(e){this.#a=e}getID(){return this.#e}}e.subscribe("Create todo and add to storage",(function(t){const o=new a(t.taskName,t.description,t.date,t.projectLocation,t.priority);console.log("New todo created!!!!!"),console.log(o.getDueDate()),e.publish("Add to storage",o),e.publish("Should I add a todo to the current container?",o),e.publish("Update Project Counter",o)})),e.subscribe("duplicate todo",(function(t){const o=new a(t.taskName,t.description,t.date,t.projectLocation,t.priority);console.log(o),e.publish("Add to storage",o),e.publish("Update Project Counter",o),e.publish("Add duplicated todo",o)}));const c=document.querySelector("header button"),l=document.querySelector("nav"),u=document.querySelector("main"),h=document.querySelector(".project-tab"),p=document.querySelector("#downArrow"),v=(document.querySelector(".projects"),document.querySelector("#a")),m=(document.querySelector(".todo-row"),document.querySelector(".checkbox__input__gray"),document.querySelector(".checkbox"),document.querySelector(".add-task-button"),document.querySelector(".edit-todo-menu-container")),g=(document.querySelector(".task-name"),document.querySelector("#pencil"),document.querySelector("#z"),document.querySelector(".add-new-task")),y=document.querySelector(".overlay");document.querySelector("#add"),document.querySelector(".project-modal"),document.querySelector(".edit-todo-menu-add-task"),document.querySelector("textarea"),document.querySelector("#date"),new class{#c;constructor(){this.#c=new Map,this.addProject=this.addProject.bind(this),this.getProject=this.getProject.bind(this),this.renderProject=this.renderProject.bind(this),this.updateProjectCounter=this.updateProjectCounter.bind(this),this.getProjectsForDropdowns=this.getProjectsForDropdowns.bind(this),this.getProjectsForDropdowns2=this.getProjectsForDropdowns2.bind(this),this.moveToProject=this.moveToProject.bind(this),this.sendProjects=this.sendProjects.bind(this),this.addTodo=this.addTodo.bind(this),this.updateTodo=this.updateTodo.bind(this),this.deleteTodo=this.deleteTodo.bind(this),this.differentProjectTodo=this.differentProjectTodo.bind(this),this.updateAllProjectCounters=this.updateAllProjectCounters.bind(this),this.addProject({id:"1",projectName:"Inbox",projectColor:'<svg id="inbox" data-id = "1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="Dd3PmF2g5h93YIf1bCDdiA==">   <g fill="currentColor" fill-rule="nonzero">   <path d="M10 14.5a2 2 0 104 0h5.5V18a1.5 1.5 0 01-1.5 1.5H6A1.5 1.5 0 014.5 18v-3.5H10z" opacity="0.1"></path>   <path d="M8.062 4h7.876a2 2 0 011.94 1.515l2.062 8.246a2 2 0 01.06.485V18a2 2 0 01-2 2H6a2 2 0 01-2-2v-3.754a2 2 0 01.06-.485l2.06-8.246A2 2 0 018.061 4zm0 1a1 1 0 00-.97.757L5.03 14.004a1 1 0 00-.03.242V18a1 1 0 001 1h12a1 1 0 001-1v-3.754a1 1 0 00-.03-.242l-2.06-8.247A1 1 0 0015.94 5H8.061zM12 17.25A2.75 2.75 0 019.295 15H7a.5.5 0 110-1h2.75a.5.5 0 01.5.5 1.75 1.75 0 003.5 0 .5.5 0 01.5-.5H17a.5.5 0 110 1h-2.295A2.75 2.75 0 0112 17.25z"></path>  </g> </svg>',projectTodoItems:new Map,findTodo:e=>projectTodoItems.get(e),addTodo(e,t){this.projectTodoItems.set(e,t)},getID(){return this.id},getProjectName(){return this.projectName},getProjectColor(){return this.projectColor},getProjectTodoItems(){return this.projectTodoItems}}),e.subscribe("Add Project to Project Manager",this.addProject),e.subscribe("Changing Projects",this.renderProject),e.subscribe("Add to storage",this.addTodo),e.subscribe("Generate Dropdown for Edit Menu",this.getProjectsForDropdowns),e.subscribe("Update Project Counter",this.updateProjectCounter),e.subscribe("Generate Dropdown for Edit Menu2",this.getProjectsForDropdowns2),e.subscribe("Update Todo",this.updateTodo),e.subscribe("Add Todo to different project",this.differentProjectTodo),e.subscribe("Move todo",this.moveToProject),e.subscribe("Get Projects",this.sendProjects),e.subscribe("Delete Todo",this.deleteTodo)}addProject(e){this.#c.set(e.getID(),e)}addTodo(e){this.getProject(e.getProjectLocation()).getProjectTodoItems().set(e.getID(),e),console.log(this.#c),console.log("iggy")}getTodo(e){this.getProject(e.getProjectLocation()).getProjectTodoItems().get(e.getID())}updateTodo(e){const t=this.getProject(e.projectLocation).getProjectTodoItems().get(e.id);t.setTaskName(e.taskName),t.setDescription(e.description),t.setDueDate(e.date),t.setPriority(e.priority),console.log(this.#c)}deleteTodo(e){this.getProject(e.currentProject).getProjectTodoItems().delete(e.todoID),document.getElementById(e.todoID).remove(),this.updateAllProjectCounters()}moveToProject(e){console.log(e.currentProject);const t=this.getProject(e.currentProject);console.log("current project"),console.log(this.#c);const o=t.getProjectTodoItems().get(e.todoId);console.log("Item"+o),o.setProjectLocation(e.projectID),this.addTodo(o),t.getProjectTodoItems().delete(e.todoId),document.getElementById(e.todoId).remove(),this.updateAllProjectCounters(),console.log(this.#c)}sendProjects(){e.publish("Sending projects for context menu",this.#c)}differentProjectTodo(e){const t=this.getProject(e.currentID),o=t.getProjectTodoItems().get(e.todo.id);o.setTaskName(e.todo.taskName),o.setDescription(e.todo.description),o.setDueDate(e.todo.date),o.setPriority(e.todo.priority),o.setProjectLocation(e.todo.projectLocation),this.addTodo(o),t.getProjectTodoItems().delete(e.todo.id),document.getElementById(e.todo.id).remove(),this.updateAllProjectCounters(),console.log(this.#c)}removeProject(e){this.#c.delete(e)}getProject(e){return this.#c.get(e)}renderProject(t){return e.publish("Project needs rendering",this.#c.get(t)),this.#c.get(t)}getProjectsForDropdowns(t){e.publish("Need Current Project for DropDown",this.#c)}getProjectsForDropdowns2(t){e.publish("Need Current Project for DropDown2",this.#c)}updateProjectCounter(e){const t=this.getProject(e.getProjectLocation());document.querySelector(`nav [data-id="${e.getProjectLocation()}"] .number`).textContent=t.getProjectTodoItems().size,console.log(this.#c)}updateAllProjectCounters(){for(let e of this.#c.keys()){const t=this.getProject(e),o=document.querySelector(`nav [data-id="${e}"] .number`);console.log(o),o.textContent=t.getProjectTodoItems().size}}};let j=new class{#l;#u;#h;#p;#v;#m;#g;#y;#j;#C;#b;#w;#f;#T;#P;#x;constructor(t){this.#l=t,this.#u=r(),this.#h=r(),this.#p=r(),this.#C=r(),this.#m=r(),this.#x=!1,this.render=this.render.bind(this),this.duplicateContext=this.duplicateContext.bind(this),this.duplicateStuff=this.duplicateStuff.bind(this),this.editStuff=this.editStuff.bind(this),this.moveToProjectStuff=this.moveToProjectStuff.bind(this),this.renderProjectContainer=this.renderProjectContainer.bind(this),this.clearContainer=this.clearContainer.bind(this),this.generateProjectDropdown=this.generateProjectDropdown.bind(this),this.generateProjectDropdown2=this.generateProjectDropdown2.bind(this),this.addTodoDuplicate=this.addTodoDuplicate.bind(this),this.deleteTodo=this.deleteTodo.bind(this),this.generateProjectsForContext=this.generateProjectsForContext.bind(this),this.addTodoToCurrentContainer=this.addTodoToCurrentContainer.bind(this),this.closeTaskMenu=this.closeTaskMenu.bind(this),e.subscribe("Project needs rendering",this.renderProjectContainer),e.subscribe("Show Edit Menu",this.generateProjectDropdown),e.subscribe("Show Edit Menu2",this.generateProjectDropdown2),e.subscribe("Add duplicated todo",this.addTodoDuplicate),e.subscribe("Sending projects for context menu",this.generateProjectsForContext),e.subscribe("We are in the current project container, add the associated todo",this.addTodoToCurrentContainer),e.subscribe("Close Edit Menu",this.closeTaskMenu)}createContainer(){let e=`<div class = "main-container" id = ${this.#u}>\n    <div class="todo-items-container" id = ${this.#h}>\n       <span class = "container-title" id = "1">${this.#l}</span>\n       </div>\n    <div class = "container-footer">\n    <button class = "add-task-button" data-action = "showTaskMenu" id = ${this.#v}>\n       <div class="add-task-row" data-action = "showTaskMenu">\n          <div class="add-icon" data-action = "showTaskMenu"></div>\n          <div class = "add-task" data-action = "showTaskMenu">Add task</div>\n       </div>\n    </button>\n    </div>\n</div>\n `;return document.createRange().createContextualFragment(e)}createEditMenu(){const e=`<div class="edit-todo-menu-container" id = ${this.#m}>\n  <div class="edit-todo-menu">\n     <div><input class = "task-name" required type="text" placeholder="Task Name"></div>\n     <div>\n        <textarea name="" oninput='this.style.height = "";this.style.height = this.scrollHeight + "px"' id="" cols="30" rows="2" placeholder="Description"></textarea>\n     </div>\n     <div class="edit-todo-menu-actions">\n        <div class = "edit-todo-menu-date">\n           <input type="date" name="" id="date" placeholder="Due Date">\n        </div>\n        \x3c!-- DropDown --\x3e\n        <div class="dropdown editMenu">\n           <div class="select">\n              <span class="selected">Inbox</span>\n              <div class="caret"></div>\n           </div>\n           <ul class="menu">\n              <li class = "active", id = "1">Inbox</li>\n           </ul>\n        </div>\n        \x3c!-- DropDown End --\x3e\n        <div class="dropdown flag">\n           <div class="select">\n              <span class="selected">\n                 <svg xmlns:xlink="http://www.w3.org/1999/xlink" data-flagColor = "gray" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="Gw1i-E3" data-icon-name="priority-icon" data-priority="4">\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M4 5a.5.5 0 01.223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.822 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0120 4.5V13a.5.5 0 01-.223.416c-1.09.727-2.518 1.084-4.277 1.084-1.113 0-1.92-.197-3.658-.776C10.204 13.178 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777V19.5a.5.5 0 01-1 0V5zm4.5 7c-1.367 0-2.535.216-3.5.654V5.277c.886-.515 2.05-.777 3.5-.777.97 0 1.704.178 3.342.724 1.737.58 2.545.776 3.658.776 1.367 0 2.535-.216 3.5-.654v7.377c-.886.515-2.05.777-3.5.777-.97 0-1.704-.178-3.342-.724C10.421 12.196 9.613 12 8.5 12z" fill="#666666"></path>\n                 </svg>\n                 <span class = "flag-text" style = "display: none;">Priority 4</span>\n              </span>\n              <div class="caret" style = "display: none;"></div>\n           </div>\n           <ul class="menu">\n              <li id = "priority1">\n                 <div class="flag-row">\n                    <svg xmlns:xlink="http://www.w3.org/1999/xlink" data-flagColor = "red" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="Gw1i-E3" data-icon-name="priority-icon" data-priority="1">\n                       <path fill-rule="evenodd" clip-rule="evenodd" d="M4.223 4.584A.5.5 0 004 5v14.5a.5.5 0 001 0v-5.723C5.886 13.262 7.05 13 8.5 13c.97 0 1.704.178 3.342.724 1.737.58 2.545.776 3.658.776 1.759 0 3.187-.357 4.277-1.084A.5.5 0 0020 13V4.5a.5.5 0 00-.777-.416C18.313 4.69 17.075 5 15.5 5c-.97 0-1.704-.178-3.342-.724C10.421 3.696 9.613 3.5 8.5 3.5c-1.758 0-3.187.357-4.277 1.084z" fill="#D1453B"></path>\n                    </svg>\n                    <span class = "flag-text">Priority 1</span>\n                 </div>\n              </li>\n              <li id = "priority2">\n                 <div class="flag-row">\n                    <svg xmlns:xlink="http://www.w3.org/1999/xlink" data-flagColor = "yellow" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="Gw1i-E3" data-icon-name="priority-icon" data-priority="2">\n                       <path fill-rule="evenodd" clip-rule="evenodd" d="M4.223 4.584A.5.5 0 004 5v14.5a.5.5 0 001 0v-5.723C5.886 13.262 7.05 13 8.5 13c.97 0 1.704.178 3.342.724 1.737.58 2.545.776 3.658.776 1.759 0 3.187-.357 4.277-1.084A.5.5 0 0020 13V4.5a.5.5 0 00-.777-.416C18.313 4.69 17.075 5 15.5 5c-.97 0-1.704-.178-3.342-.724C10.421 3.696 9.613 3.5 8.5 3.5c-1.758 0-3.187.357-4.277 1.084z" fill="#EB8909"></path>\n                    </svg>\n                    <span class = "flag-text">Priority 2</span>\n                 </div>\n              </li>\n              <li id = "priority3">\n                 <div class="flag-row">\n                    <svg xmlns:xlink="http://www.w3.org/1999/xlink" data-flagColor = "blue" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="Gw1i-E3" data-icon-name="priority-icon" data-priority="3">\n                       <path fill-rule="evenodd" clip-rule="evenodd" d="M4.223 4.584A.5.5 0 004 5v14.5a.5.5 0 001 0v-5.723C5.886 13.262 7.05 13 8.5 13c.97 0 1.704.178 3.342.724 1.737.58 2.545.776 3.658.776 1.759 0 3.187-.357 4.277-1.084A.5.5 0 0020 13V4.5a.5.5 0 00-.777-.416C18.313 4.69 17.075 5 15.5 5c-.97 0-1.704-.178-3.342-.724C10.421 3.696 9.613 3.5 8.5 3.5c-1.758 0-3.187.357-4.277 1.084z" fill="#246FE0"></path>\n                    </svg>\n                    <span class = "flag-text">Priority 3</span>\n                 </div>\n              </li>\n              <li class = "active" id = "priority4">\n                 <div class="flag-row">\n                    <svg xmlns:xlink="http://www.w3.org/1999/xlink" data-flagColor = "gray" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="Gw1i-E3" data-icon-name="priority-icon" data-priority="4">\n                       <path fill-rule="evenodd" clip-rule="evenodd" d="M4 5a.5.5 0 01.223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.822 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0120 4.5V13a.5.5 0 01-.223.416c-1.09.727-2.518 1.084-4.277 1.084-1.113 0-1.92-.197-3.658-.776C10.204 13.178 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777V19.5a.5.5 0 01-1 0V5zm4.5 7c-1.367 0-2.535.216-3.5.654V5.277c.886-.515 2.05-.777 3.5-.777.97 0 1.704.178 3.342.724 1.737.58 2.545.776 3.658.776 1.367 0 2.535-.216 3.5-.654v7.377c-.886.515-2.05.777-3.5.777-.97 0-1.704-.178-3.342-.724C10.421 12.196 9.613 12 8.5 12z" fill="#666666"></path>\n                    </svg>\n                    <span class = "flag-text">Priority 4</span>\n                 </div>\n              </li>\n           </ul>\n        </div>\n     </div>\n  </div>\n  <div class="edit-todo-menu-footer">\n     <button class = "cancel-button" data-action = "closeTaskMenu">Cancel</button>\n     <button class = "edit-todo-menu-add-task" data-action = "addTodo">Add Task</button>\n  </div>\n</div>`;return document.createRange().createContextualFragment(e)}createTodoItemDOM(e,t,o,i,n){let s=`<div class="todo-row" id = ${n}>\n    <label class = "checkbox__${i}" for="myCheckboxId__${i}${n}">\n       <input class = "checkbox__input__${i}" type="checkbox" name="myCheckboxName__${i}" id="myCheckboxId__${i}${n}">\n       <div class="checkbox__box__${i}"></div>\n    </label>\n    <div class="todo-column">\n       <div class = "todo-title">${e}</div>\n       <div class = "todo-description">${t}</div>\n       <div class = "todo-date">${o}</div>\n    </div>\n    <div class="todo-actions">\n       <svg data-action = "edit" data-id = "${n}" xmlns="http://www.w3.org/2000/svg">\n          <g data-action = "edit" data-id = "${n}" fill="none" fill-rule="evenodd">\n             <path data-action = "edit" data-id = "${n}" fill="rgb(136,136,136)" d="M9.5 19h10a.5.5 0 110 1h-10a.5.5 0 110-1z"/>\n             <path data-action = "edit" data-id = "${n}" stroke="rgb(126,126,126)" d="M4.42 16.03a1.5 1.5 0 00-.43.9l-.22 2.02a.5.5 0 00.55.55l2.02-.21a1.5 1.5 0 00.9-.44L18.7 7.4a1.5 1.5 0 000-2.12l-.7-.7a1.5 1.5 0 00-2.13 0L4.42 16.02z"/>\n          </g>\n       </svg>\n       <svg style="width:20px;height:20px" viewBox="0 0 20 20">\n          <path fill="rgb(146,146,146)" d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"/>\n       </svg>\n    </div>\n </div>`;return""===o&&(s=`<div class="todo-row" id = ${n}>\n   <label class = "checkbox__${i}" for="myCheckboxId__${i}${n}">\n      <input class = "checkbox__input__${i}" type="checkbox" name="myCheckboxName__${i}" id="myCheckboxId__${i}${n}">\n      <div class="checkbox__box__${i}"></div>\n   </label>\n   <div class="todo-column">\n      <div class = "todo-title">${e}</div>\n      <div class = "todo-description">${t}</div>\n      <div class = "todo-date" style = "display:none">${o}</div>\n\n   </div>\n   <div class="todo-actions">\n      <svg data-action = "edit" data-id = "${n}" xmlns="http://www.w3.org/2000/svg">\n         <g data-action = "edit" data-id = "${n}" fill="none" fill-rule="evenodd">\n            <path data-action = "edit" data-id = "${n}" fill="rgb(136,136,136)" d="M9.5 19h10a.5.5 0 110 1h-10a.5.5 0 110-1z"/>\n            <path data-action = "edit" data-id = "${n}" stroke="rgb(126,126,126)" d="M4.42 16.03a1.5 1.5 0 00-.43.9l-.22 2.02a.5.5 0 00.55.55l2.02-.21a1.5 1.5 0 00.9-.44L18.7 7.4a1.5 1.5 0 000-2.12l-.7-.7a1.5 1.5 0 00-2.13 0L4.42 16.02z"/>\n         </g>\n      </svg>\n      <svg style="width:20px;height:20px" viewBox="0 0 20 20">\n         <path fill="rgb(146,146,146)" d="M16,12A2,2 0 0,1 18,10A2,2 0 0,1 20,12A2,2 0 0,1 18,14A2,2 0 0,1 16,12M10,12A2,2 0 0,1 12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12M4,12A2,2 0 0,1 6,10A2,2 0 0,1 8,12A2,2 0 0,1 6,14A2,2 0 0,1 4,12Z"/>\n      </svg>\n   </div>\n</div>`),this.#y.appendChild(document.createRange().createContextualFragment(s))}generateProjectDropdown(e){let t=e.projects;console.log(t);let o=e.currentProjectID;const i=this.#b.querySelector(".selected");i.textContent=`${t.get(o).getProjectName()}`,i.id=o;let n="";for(let e of t.keys())n+=e===o?`<li class = "active" id = ${e}>${t.get(e).getProjectName()}</li>`:`<li id = ${e}>${t.get(e).getProjectName()}</li>`;this.#b.querySelector(".editMenu .menu").innerHTML=n,this.#b.querySelector(".flag .selected").innerHTML='<svg xmlns:xlink="http://www.w3.org/1999/xlink" data-flagColor = "gray" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="Gw1i-E3" data-icon-name="priority-icon" data-priority="4">\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M4 5a.5.5 0 01.223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.822 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0120 4.5V13a.5.5 0 01-.223.416c-1.09.727-2.518 1.084-4.277 1.084-1.113 0-1.92-.197-3.658-.776C10.204 13.178 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777V19.5a.5.5 0 01-1 0V5zm4.5 7c-1.367 0-2.535.216-3.5.654V5.277c.886-.515 2.05-.777 3.5-.777.97 0 1.704.178 3.342.724 1.737.58 2.545.776 3.658.776 1.367 0 2.535-.216 3.5-.654v7.377c-.886.515-2.05.777-3.5.777-.97 0-1.704-.178-3.342-.724C10.421 12.196 9.613 12 8.5 12z" fill="#666666"></path>\n                 </svg>\n                 <span class = "flag-text" style = "display: none;">Priority 4</span>';const s=this.#b.querySelector(".flag .menu").querySelectorAll("li");for(let e=0;e<s.length;e++)s[e].classList.remove("active");this.#b.querySelector("#priority4").classList.add("active"),document.querySelector("header button"),this.#b.querySelectorAll(".dropdown.editMenu").forEach((e=>{e.querySelector(".select");const t=e.querySelector(".selected"),o=e.querySelector(".caret"),i=e.querySelector(".menu"),n=e.querySelectorAll(".menu li");n.forEach((s=>{s.addEventListener("click",(()=>{if(e.classList.contains("flag")){const e=s.querySelector(".flag-row"),o=e.querySelector(".flag-text");o.style.display="none",t.innerHTML=e.innerHTML,o.style.display="block"}else t.innerHTML=s.innerHTML,t.id=s.id;o.classList.remove("caret-rotate"),i.classList.remove("menu-open"),n.forEach((e=>{e.classList.remove("active")})),s.classList.add("active")}))}))})),this.#P&&(console.log(this.#P),this.#y.replaceChild(this.#P,this.#b)),this.#g.querySelector(".container-footer").replaceChild(this.#b,this.#C),this.#b.style.display="block"}generateProjectDropdown2(e){let t=e.projects;console.log(t);let o=e.currentProjectID;const i=this.#b.querySelector(".selected");i.textContent=`${t.get(o).getProjectName()}`,i.id=o;let n="";for(let e of t.keys())n+=e===o?`<li class = "active" id = ${e}>${t.get(e).getProjectName()}</li>`:`<li id = ${e}>${t.get(e).getProjectName()}</li>`;this.#b.querySelector(".editMenu .menu").innerHTML=n;const s=this.#b.querySelector(".flag .selected"),r=this.#b.querySelector(".flag .menu").querySelectorAll("li");for(let e=0;e<r.length;e++)r[e].classList.remove("active");console.log(this.#P);const d=this.#P.querySelector("label");d.classList.contains("checkbox__gray")&&(s.innerHTML='<svg xmlns:xlink="http://www.w3.org/1999/xlink" data-flagColor = "gray" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="Gw1i-E3" data-icon-name="priority-icon" data-priority="4">\n                    <path fill-rule="evenodd" clip-rule="evenodd" d="M4 5a.5.5 0 01.223-.416C5.313 3.857 6.742 3.5 8.5 3.5c1.113 0 1.92.196 3.658.776C13.796 4.822 14.53 5 15.5 5c1.575 0 2.813-.31 3.723-.916A.5.5 0 0120 4.5V13a.5.5 0 01-.223.416c-1.09.727-2.518 1.084-4.277 1.084-1.113 0-1.92-.197-3.658-.776C10.204 13.178 9.47 13 8.5 13c-1.45 0-2.614.262-3.5.777V19.5a.5.5 0 01-1 0V5zm4.5 7c-1.367 0-2.535.216-3.5.654V5.277c.886-.515 2.05-.777 3.5-.777.97 0 1.704.178 3.342.724 1.737.58 2.545.776 3.658.776 1.367 0 2.535-.216 3.5-.654v7.377c-.886.515-2.05.777-3.5.777-.97 0-1.704-.178-3.342-.724C10.421 12.196 9.613 12 8.5 12z" fill="#666666"></path>\n                 </svg>\n                 <span class = "flag-text" style = "display: none;">Priority 4</span>',this.#b.querySelector("#priority4").classList.add("active")),d.classList.contains("checkbox__blue")&&(s.innerHTML='<svg xmlns:xlink="http://www.w3.org/1999/xlink" data-flagColor = "blue" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="Gw1i-E3" data-icon-name="priority-icon" data-priority="3">\n   <path fill-rule="evenodd" clip-rule="evenodd" d="M4.223 4.584A.5.5 0 004 5v14.5a.5.5 0 001 0v-5.723C5.886 13.262 7.05 13 8.5 13c.97 0 1.704.178 3.342.724 1.737.58 2.545.776 3.658.776 1.759 0 3.187-.357 4.277-1.084A.5.5 0 0020 13V4.5a.5.5 0 00-.777-.416C18.313 4.69 17.075 5 15.5 5c-.97 0-1.704-.178-3.342-.724C10.421 3.696 9.613 3.5 8.5 3.5c-1.758 0-3.187.357-4.277 1.084z" fill="#246FE0"></path>\n</svg>\n<span class = "flag-text"  style = "display: none;">Priority 3</span>',this.#b.querySelector("#priority3").classList.add("active")),d.classList.contains("checkbox__yellow")&&(s.innerHTML='<svg xmlns:xlink="http://www.w3.org/1999/xlink" data-flagColor = "yellow" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="Gw1i-E3" data-icon-name="priority-icon" data-priority="2">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M4.223 4.584A.5.5 0 004 5v14.5a.5.5 0 001 0v-5.723C5.886 13.262 7.05 13 8.5 13c.97 0 1.704.178 3.342.724 1.737.58 2.545.776 3.658.776 1.759 0 3.187-.357 4.277-1.084A.5.5 0 0020 13V4.5a.5.5 0 00-.777-.416C18.313 4.69 17.075 5 15.5 5c-.97 0-1.704-.178-3.342-.724C10.421 3.696 9.613 3.5 8.5 3.5c-1.758 0-3.187.357-4.277 1.084z" fill="#EB8909"></path>\n</svg>\n<span class = "flag-text"  style = "display: none;">Priority 2</span>',this.#b.querySelector("#priority2").classList.add("active")),d.classList.contains("checkbox__red")&&(s.innerHTML='<svg xmlns:xlink="http://www.w3.org/1999/xlink" data-flagColor = "red" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="Gw1i-E3" data-icon-name="priority-icon" data-priority="1">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M4.223 4.584A.5.5 0 004 5v14.5a.5.5 0 001 0v-5.723C5.886 13.262 7.05 13 8.5 13c.97 0 1.704.178 3.342.724 1.737.58 2.545.776 3.658.776 1.759 0 3.187-.357 4.277-1.084A.5.5 0 0020 13V4.5a.5.5 0 00-.777-.416C18.313 4.69 17.075 5 15.5 5c-.97 0-1.704-.178-3.342-.724C10.421 3.696 9.613 3.5 8.5 3.5c-1.758 0-3.187.357-4.277 1.084z" fill="#D1453B"></path>\n</svg>\n<span class = "flag-text"  style = "display: none;">Priority 1</span>',this.#b.querySelector("#priority1").classList.add("active")),document.querySelector("header button"),this.#b.querySelectorAll(".dropdown.editMenu").forEach((e=>{e.querySelector(".select");const t=e.querySelector(".selected"),o=e.querySelector(".caret"),i=e.querySelector(".menu"),n=e.querySelectorAll(".menu li");n.forEach((s=>{s.addEventListener("click",(()=>{if(e.classList.contains("flag")){const e=s.querySelector(".flag-row"),o=e.querySelector(".flag-text");o.style.display="none",t.innerHTML=e.innerHTML,o.style.display="block"}else t.innerHTML=s.innerHTML,t.id=s.id;o.classList.remove("caret-rotate"),i.classList.remove("menu-open"),n.forEach((e=>{e.classList.remove("active")})),s.classList.add("active")}))}))}))}generateProjectsForContext(e){let t="";for(let o of e.keys())console.log(`${e.get(o).getProjectColor()}`),o===this.#j.id?t+=`<li class = "item active" id = ${o}> ${e.get(o).getProjectColor()} ${e.get(o).getProjectName()}</li>`:t+=`<li class = "item" id = ${o}>${e.get(o).getProjectColor()} ${e.get(o).getProjectName()}</li>`;const o=document.querySelector(".share-menu");o.innerHTML=t;const i=o.querySelectorAll("li");for(let e=0;e<i.length;e++)i[e].id===this.#j.id||i[e].addEventListener("click",(e=>{this.moveToProjectStuff(e.target.id)}))}render(t){t.appendChild(this.createContainer()),t.appendChild(this.createEditMenu()),this.#g=document.getElementById(`${this.#u}`),this.#g.onclick=this.onClick.bind(this),this.#y=document.getElementById(`${this.#h}`),this.#j=document.querySelector(".container-title"),this.#C=document.getElementById(`${this.#v}`),this.#b=document.getElementById(`${this.#m}`),this.#w=document.querySelector(".wrapper"),this.#f=document.querySelector(".share-menu"),this.#y.addEventListener("contextmenu",(t=>{t.preventDefault(),this.#T=t.target.closest(".todo-row").id;let o=t.clientX,i=t.clientY;e.publish("Get Projects","");const n=window.innerWidth,s=this.#w.clientWidth;console.log("x "+o),console.log("context menu "+s),console.log("y "+i),console.log("window "+n);const r=window.innerHeight,d=this.#w.clientWidth;o>n-s-this.#f.offsetWidth?this.#f.style.left="-200px":(this.#f.style.left="",this.#f.style.right="-200px"),o=o>n-s?n-s:o,i=i>r-d?r-d:i,this.#w.style.left=`${o}px`,this.#w.style.top=`${i}px`,this.#w.classList.remove("appear"),this.#w.classList.add("appear"),document.querySelector(".wrapper .edit").removeEventListener("click",this.editStuff),document.querySelector(".wrapper .duplicate").removeEventListener("click",this.duplicateStuff),document.querySelector(".wrapper .moveProject").removeEventListener("click",this.moveToProjectStuff),document.querySelector(".wrapper .delete").removeEventListener("click",this.deleteTodo),document.querySelector(".wrapper .edit").addEventListener("click",this.editStuff),document.querySelector(".wrapper .duplicate").addEventListener("click",this.duplicateStuff),document.querySelector(".wrapper .moveProject").addEventListener("click",this.moveToProjectStuff),document.querySelector(".wrapper .delete").addEventListener("click",this.deleteTodo)})),document.addEventListener("click",(()=>{this.#w.classList.remove("appear")}))}editStuff(){this.editContext(this.#T)}duplicateStuff(){this.duplicateContext(this.#T)}moveToProjectStuff(t){e.publish("Move todo",{projectID:t,todoId:this.#T,currentProject:this.#j.id})}deleteTodo(){e.publish("Delete Todo",{currentProject:this.#j.id,todoID:this.#T})}onClick(e){let t=e.target.dataset.action;t&&this[t](e)}showTaskMenu(){const t=this.#b.querySelector(".cancel-button"),o=this.#b.querySelector(".edit-todo-menu-add-task");delete t.dataset.action,t.dataset.action="closeTaskMenu",delete o.dataset.action,o.dataset.action="addTodo",o.textContent="Add Task";const i=this.#b.querySelector(".task-name"),n=this.#b.querySelector("textarea"),s=this.#b.querySelector("#date");i.value="",n.value="",s.value="","block"===this.#b.style.display&&(this.#b.style.display="none"),this.#b.style.marginTop="0rem",this.#b.style.marginBottom="0rem",e.publish("Generate Dropdown for Edit Menu","")}closeTaskMenu(){this.#b.style.display="none",console.log("momma mia");const e=document.querySelector(".task-name"),t=document.querySelector("textarea"),o=document.querySelector("#date");document.querySelectorAll(".dropdown.editMenu");let i=document.querySelector(".flag .selected .flag-text");e.value="",t.value="",o.value="",i.value="Priority 4",this.#g.querySelector(".container-footer").replaceChild(this.#C,this.#b),this.#P=!1}addTodo(){const t=document.querySelector(".task-name"),o=document.querySelector("textarea"),i=document.querySelector("#date"),n=document.querySelector(".dropdown.editMenu .selected"),s=document.querySelector(".flag .selected .flag-text");let r;"Priority 1"===s.textContent&&(r="red"),"Priority 2"===s.textContent&&(r="yellow"),"Priority 3"===s.textContent&&(r="blue"),"Priority 4"===s.textContent&&(r="gray"),e.publish("Create todo and add to storage",{taskName:t.value,description:o.value,date:i.value,projectLocation:n.id,priority:r})}edit(t){if(this.#g.querySelector(".container-footer").contains(this.#b)){this.closeTaskMenu(),this.#P=document.getElementById(t.target.dataset.id);const o=this.#b.querySelector(".task-name"),i=this.#b.querySelector("textarea"),n=this.#b.querySelector("#date"),s=this.#P.querySelector(".todo-title"),r=this.#P.querySelector(".todo-description"),d=this.#P.querySelector(".todo-date");o.value=s.textContent,i.value=r.textContent,n.value=d.textContent,e.publish("Generate Dropdown for Edit Menu2",""),this.#y.replaceChild(this.#b,this.#P),this.#b.style.display="block",this.#b.style.marginTop="2rem",this.#b.style.marginBottom="0rem"}else{this.#P&&(this.#y.replaceChild(this.#P,this.#b),this.#b.style.display="none"),this.#P=document.getElementById(t.target.dataset.id),e.publish("Generate Dropdown for Edit Menu2","");const o=this.#b.querySelector(".task-name"),i=this.#b.querySelector("textarea"),n=this.#b.querySelector("#date"),s=this.#P.querySelector(".todo-title"),r=this.#P.querySelector(".todo-description"),d=this.#P.querySelector(".todo-date");o.value=s.textContent,i.value=r.textContent,n.value=d.textContent,this.#y.replaceChild(this.#b,this.#P),this.#b.style.display="block",this.#b.style.marginTop="2rem",this.#b.style.marginBottom="0rem"}this.#b.querySelector(".cancel-button").dataset.action="cancelUpdate";const o=this.#b.querySelector(".edit-todo-menu-add-task");delete o.dataset.action,o.textContent="Save",o.dataset.action="updateTodo"}editContext(t){if(this.#g.querySelector(".container-footer").contains(this.#b)){this.closeTaskMenu(),this.#P=document.getElementById(t);const o=this.#b.querySelector(".task-name"),i=this.#b.querySelector("textarea"),n=this.#b.querySelector("#date"),s=this.#P.querySelector(".todo-title"),r=this.#P.querySelector(".todo-description"),d=this.#P.querySelector(".todo-date");o.value=s.textContent,i.value=r.textContent,n.value=d.textContent,e.publish("Generate Dropdown for Edit Menu2",""),this.#y.replaceChild(this.#b,this.#P),this.#b.style.display="block",this.#b.style.marginTop="2rem",this.#b.style.marginBottom="0rem"}else{this.#P&&(this.#y.replaceChild(this.#P,this.#b),this.#b.style.display="none"),this.#P=document.getElementById(t),e.publish("Generate Dropdown for Edit Menu2","");const o=this.#b.querySelector(".task-name"),i=this.#b.querySelector("textarea"),n=this.#b.querySelector("#date"),s=this.#P.querySelector(".todo-title"),r=this.#P.querySelector(".todo-description"),d=this.#P.querySelector(".todo-date");o.value=s.textContent,i.value=r.textContent,n.value=d.textContent,this.#y.replaceChild(this.#b,this.#P),this.#b.style.display="block",this.#b.style.marginTop="2rem",this.#b.style.marginBottom="0rem"}this.#b.querySelector(".cancel-button").dataset.action="cancelUpdate";const o=this.#b.querySelector(".edit-todo-menu-add-task");delete o.dataset.action,o.textContent="Save",o.dataset.action="updateTodo"}duplicateContext(t){console.log("This was just called");const o=document.getElementById(t),i=o.querySelector(".todo-title"),n=o.querySelector(".todo-description"),s=o.querySelector(".todo-date"),r=o.querySelector("label");r.querySelector("label > input"),r.querySelector("label > div");let d="";r.classList.contains("checkbox__gray")&&(d="gray"),r.classList.contains("checkbox__blue")&&(d="blue"),r.classList.contains("checkbox__yellow")&&(d="yellow"),r.classList.contains("checkbox__red")&&(d="red"),e.publish("duplicate todo",{taskName:i.textContent,description:n.textContent,date:s.textContent,projectLocation:this.#j.id,priority:d})}cancelUpdate(e){this.#y.replaceChild(this.#P,this.#b),this.#P=!1}updateTodo(t){const o=document.querySelector(".task-name"),i=document.querySelector("textarea"),n=document.querySelector("#date"),s=document.querySelector(".dropdown.editMenu .selected"),r=document.querySelector(".flag .selected .flag-text"),d=this.#P.querySelector(".todo-title"),a=this.#P.querySelector(".todo-description"),c=this.#P.querySelector(".todo-date"),l=this.#P.querySelector("label"),u=l.querySelector("label > input"),h=l.querySelector("label > div");let p;l.removeAttribute("class"),u.removeAttribute("class"),h.removeAttribute("class"),console.log(r.textContent),"Priority 1"===r.textContent&&(p="red",l.classList.add("checkbox__red"),u.classList.add("checkbox__input__red"),h.classList.add("checkbox__box__red")),"Priority 2"===r.textContent&&(p="yellow",l.classList.add("checkbox__yellow"),u.classList.add("checkbox__input__yellow"),h.classList.add("checkbox__box__yellow")),"Priority 3"===r.textContent&&(p="blue",l.classList.add("checkbox__blue"),u.classList.add("checkbox__input__blue"),h.classList.add("checkbox__box__blue")),"Priority 4"===r.textContent&&(p="gray",l.classList.add("checkbox__gray"),u.classList.add("checkbox__input__gray"),h.classList.add("checkbox__box__gray")),""===n.value&&(c.style.display="none"),d.textContent=o.value,a.textContent=i.value,c.textContent=n.value,""!==c.textContent&&(c.style.display="flex"),this.#y.replaceChild(this.#P,this.#b),e.publish("Is todo in current project?",{id:this.#P.id,taskName:o.value,description:i.value,date:n.value,projectLocation:s.id,priority:p}),this.#P=!1}addTodoToCurrentContainer(e){const t=document.querySelector(".task-name"),o=document.querySelector("textarea"),i=document.querySelector("#date");document.querySelectorAll(".dropdown.editMenu .selected");let n=document.querySelector(".flag .selected .flag-text");"Priority 1"===n.textContent&&this.createTodoItemDOM(t.value,o.value,i.value,"red",e),"Priority 2"===n.textContent&&this.createTodoItemDOM(t.value,o.value,i.value,"yellow",e),"Priority 3"===n.textContent&&this.createTodoItemDOM(t.value,o.value,i.value,"blue",e),"Priority 4"===n.textContent&&this.createTodoItemDOM(t.value,o.value,i.value,"gray",e),this.closeTaskMenu()}addTodoDuplicate(e){"red"===e.getPriority()&&this.createTodoItemDOM(e.getTaskName(),e.getDescription(),e.getDueDate(),"red",e.getID()),"yellow"===e.getPriority()&&this.createTodoItemDOM(e.getTaskName(),e.getDescription(),e.getDueDate(),"yellow",e.getID()),"blue"===e.getPriority()&&this.createTodoItemDOM(e.getTaskName(),e.getDescription(),e.getDueDate(),"blue",e.getID()),"gray"===e.getPriority()&&this.createTodoItemDOM(e.getTaskName(),e.getDescription(),e.getDueDate(),"gray",e.getID())}setTitle(e){this.#j.textContent=e}clearContainer(){this.#y.innerHTML=""}renderProjectContainer(e){this.clearContainer(),this.#j.id=e.getID(),this.setTitle(e.getProjectName()),this.generateTodos(e.getProjectTodoItems()),this.#y.prepend(this.#j),"block"===this.#b.style.display&&(this.closeTaskMenu(),this.#P=!1)}generateTodos(e){for(let t of e.values())this.#y.appendChild(this.createTodoItemDOM(t.getTaskName(),t.getDescription(),t.getDueDate(),t.getPriority(),t.getID()));this.#P=!1}}("Inbox");new class{#M="1";#S;constructor(){this.#S=document.querySelector(".projects"),this.createTodoProjectDOM=this.createTodoProjectDOM.bind(this),this.testCurrentContainer=this.testCurrentContainer.bind(this),this.getCurrentProjectForDropDown=this.getCurrentProjectForDropDown.bind(this),this.getCurrentProjectForDropDown2=this.getCurrentProjectForDropDown2.bind(this),this.testCurrentContainerUpdate=this.testCurrentContainerUpdate.bind(this),this.activeProject=this.activeProject.bind(this),this.onClick=this.onClick.bind(this),e.subscribe("Create Project DOM",this.createTodoProjectDOM),e.subscribe("Should I add a todo to the current container?",this.testCurrentContainer),e.subscribe("Need Current Project for DropDown",this.getCurrentProjectForDropDown),e.subscribe("Need Current Project for DropDown2",this.getCurrentProjectForDropDown2),e.subscribe("Is todo in current project?",this.testCurrentContainerUpdate),document.getElementById("1").onclick=this.onClick.bind(this)}render(){}createTodoProjectDOM(e){console.log(e.getProjectName()),console.log(typeof e.getProjectColor()),console.log(e.getProjectTodoItems().size),console.log(e.getID());const t=`\n<li data-id = ${e.getID()} id = ${e.getID()} class = "todoProject">\n    <a href="#" data-id = ${e.getID()}  >\n         ${e.getProjectColor()}\n        <span data-id = ${e.getID()} >\n            ${e.getProjectName()} \n        </span>\n    </a>\n     <span class="number" data-id = ${e.getID()}>${e.getProjectTodoItems().size}</span>\n</li>\n`;this.#S.appendChild(document.createRange().createContextualFragment(t)),document.getElementById(`${e.getID()}`).onclick=this.onClick.bind(this)}onClick(t){t.target.dataset.id&&(this.#M=t.target.dataset.id,this.activeProject(),e.publish("Changing Projects",t.target.dataset.id))}activeProject(){const e=this.#S.querySelectorAll("li");document.getElementById("1").classList.remove("activeProject");for(let t=0;t<e.length;t++)e[t].classList.remove("activeProject");document.getElementById(this.#M).classList.add("activeProject")}testCurrentContainer(t){console.log("I was just called!"),t.getProjectLocation()===this.#M?e.publish("We are in the current project container, add the associated todo",t.getID()):e.publish("Close Edit Menu","")}testCurrentContainerUpdate(t){t.projectLocation===this.#M?e.publish("Update Todo",t):e.publish("Add Todo to different project",{todo:t,currentID:this.#M})}addTodoProjectToSidebar(e){for(let e of mapOfTodos.values())this.#S.appendChild(this.createTodoProjectDOM(e.getProjectName(),e.getProjectColor(),e.getProjectTodoItems()))}getCurrentProjectForDropDown(t){e.publish("Show Edit Menu",{projects:t,currentProjectID:this.#M})}getCurrentProjectForDropDown2(t){e.publish("Show Edit Menu2",{projects:t,currentProjectID:this.#M})}},new class{#k;#q;#D;#L;constructor(){this.render()}createProjectModal(){return document.createRange().createContextualFragment('   \n    <div class="project-modal">\n       <div class = "add-project">Add Project</div>\n       <div class="project-modal-content">\n          <div>\n             <label for="projectName">Name</label>\n             <input required maxlength = 25  type="text" id = "projectName">\n          </div>\n          <div class = "dropdown-container">\n             <label for="">Color</label>\n             <div class="dropdown dots">\n                <div class="select">\n                   <span class="selected">\n                      <div class="charcoal dot"></div>\n                      Charcoal\n                   </span>\n                   <div class="caret"></div>\n                </div>\n                <ul class="menu">\n                   <li>\n                      <div class="berry-red dot"></div>Berry Red\n                   </li>\n                   <li>\n                      <div class="red dot"></div>\n                      Red\n                   </li>\n                   <li>\n                      <div class="orange dot"></div>\n                      Orange\n                   </li>\n                   <li>\n                      <div class="yellow dot"></div>\n                      Yellow\n                   </li>\n                   <li>\n                      <div class="olive-green dot"></div>\n                      Olive Green\n                   </li>\n                   <li>\n                      <div class="lime-green dot"></div>\n                      Lime Green\n                   </li>\n                   <li>\n                      <div class="green dot"></div>\n                      Green\n                   </li>\n                   <li>\n                      <div class="mint-green dot"></div>\n                      Mint Green\n                   </li>\n                   <li>\n                      <div class="teal dot"></div>\n                      Teal\n                   </li>\n                   <li>\n                      <div class="sky-blue dot"></div>\n                      Sky Blue\n                   </li>\n                   <li>\n                      <div class="light-blue dot"></div>\n                      Light Blue\n                   </li>\n                   <li>\n                      <div class="blue dot"></div>\n                      Blue\n                   </li>\n                   <li>\n                      <div class="grape dot"></div>\n                      Grape\n                   </li>\n                   <li>\n                      <div class="violet dot"></div>\n                      Violet\n                   </li>\n                   <li>\n                      <div class="lavender dot"></div>\n                      Lavender\n                   </li>\n                   <li>\n                      <div class="magenta dot"></div>\n                      Magenta\n                   </li>\n                   <li>\n                      <div class="salmon dot"></div>\n                      Salmon\n                   </li>\n                   <li class = "active" id = "charcoal-dot">\n                      <div class="charcoal dot"></div>\n                      Charcoal\n                   </li>\n                   <li>\n                      <div class="grey dot"></div>\n                      Grey\n                   </li>\n                   <li>\n                      <div class="taupe dot"></div>\n                      Taupe\n                   </li>\n                </ul>\n             </div>\n          </div>\n       </div>\n       <div class = "project-modal-footer"> <button class = "cancel" data-action = "cancel">Cancel</button> <button  class = "add" data-action = "addProject">Add</button></div>\n    </form>\n   </div>\n    ')}render(){document.body.appendChild(this.createProjectModal()),this.#k=document.querySelector(".overlay"),this.#k.onclick=this.onClick.bind(this),this.#q=document.querySelector("#addProjectButton"),this.#q.addEventListener("click",(()=>{this.#k.style.backgroundColor="rgb(0,0,0,0.5)",this.#k.style.display="block",this.#k.appendChild(this.#D),this.#D.style.display="flex",this.resetMenu()})),this.#D=document.querySelector(".project-modal"),this.#L=document.querySelector(".project-modal input")}onClick(e){let t=e.target.dataset.action;t?this[t](e):e.target===this.#k&&this.removeOverlay()}addProject(){const t=document.querySelector(".project-modal .selected .dot");e.publish("Create Project",{projectName:this.#L.value,projectColor:t.outerHTML}),this.removeOverlay()}cancel(){this.removeOverlay()}removeOverlay(){this.#k.removeChild(this.#D),this.#k.style.display="none",this.#k.style.backgroundColor="transparent"}resetMenu(){document.querySelector(".dots .menu").classList.remove("menu-open"),document.querySelector(".dots .selected").innerHTML="<div class='charcoal dot'></div>Charcoal";const e=document.querySelectorAll(".dots .menu li");for(let t=0;t<e.length;t++)e[t].classList.remove("active");document.getElementById("charcoal-dot").classList.add("active"),this.#L.value=""}},j.render(u),g.addEventListener("click",(()=>{const e=m.cloneNode(!0);e.setAttribute("id","todo-ab"),e.classList.add("absolute");const t=e.querySelector(".edit-todo-menu");e.querySelector(".edit-todo-menu-footer").classList.add("foot-margin"),t.classList.add("no-border"),y.style.display="block",y.appendChild(e),window.addEventListener("click",(function(t){t.target===y&&(y.removeChild(e),y.style.display="none")})),e.querySelectorAll(".dropdown").forEach((e=>{const t=e.querySelector(".select"),o=e.querySelector(".selected"),i=e.querySelector(".caret"),n=e.querySelector(".menu"),s=e.querySelectorAll(".menu li");t.addEventListener("click",(()=>{i.classList.toggle("caret-rotate"),n.classList.toggle("menu-open")})),document.addEventListener("click",(function(e){!e.target.matches(".dropdown")&&e.target.closest(".dropdown")||(i.classList.remove("caret-rotate"),n.classList.remove("menu-open"))})),s.forEach((t=>{t.addEventListener("click",(()=>{if(e.classList.contains("flag")){const e=t.querySelector(".flag-row"),i=e.querySelector(".flag-text");i.style.display="none",o.innerHTML=e.innerHTML,i.style.display="block"}else o.textContent=t.textContent;i.classList.remove("caret-rotate"),n.classList.remove("menu-open"),s.forEach((e=>{e.classList.remove("active")})),t.classList.add("active")}))}))}))})),c.addEventListener("click",(()=>{l.classList.contains("slideOut")?(l.classList.remove("slideOut"),u.classList.remove("shiftOut"),l.classList.add("slideIn"),u.classList.add("shiftIn")):(l.classList.remove("slideIn"),u.classList.remove("shiftIn"),l.classList.add("slideOut"),u.classList.add("shiftOut"))})),h.addEventListener("click",(()=>{p.classList.contains("rotateRight")?(p.classList.remove("rotateRight"),p.classList.add("rotateDown"),v.classList.add("show"),v.classList.remove("hide")):(p.classList.remove("rotateDown"),p.classList.add("rotateRight"),v.classList.add("hide"),v.classList.remove("show"))})),document.querySelectorAll(".dropdown").forEach((e=>{const t=e.querySelector(".select"),o=e.querySelector(".selected"),i=e.querySelector(".caret"),n=e.querySelector(".menu"),s=e.querySelectorAll(".menu li");t.addEventListener("click",(()=>{i.classList.toggle("caret-rotate"),n.classList.toggle("menu-open")})),e.classList.contains("dots")&&n.classList.toggle("menu-open"),e.classList.contains("dots")||document.addEventListener("click",(function(e){!e.target.matches(".dropdown")&&e.target.closest(".dropdown")||(i.classList.remove("caret-rotate"),n.classList.remove("menu-open"))})),s.forEach((t=>{t.addEventListener("click",(()=>{if(e.classList.contains("flag")){const e=t.querySelector(".flag-row"),i=e.querySelector(".flag-text");i.style.display="none",o.innerHTML=e.innerHTML,i.style.display="block"}else o.innerHTML=t.innerHTML,o.id=t.id;i.classList.remove("caret-rotate"),n.classList.remove("menu-open"),s.forEach((e=>{e.classList.remove("active")})),t.classList.add("active")}))}))})),document.querySelector(".todo-items-container")})();